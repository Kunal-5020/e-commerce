const admin = require('firebase-admin');

// Paste your token here
const token = 'eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg3NzQ4NTAwMmYwNWJlMDI2N2VmNDU5ZjViNTEzNTMzYjVjNThjMTIiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoia3VuYWwgZGd0bG1hcnQiLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EtL0FMVi1ValUyTzJYYVZIX1RBeEFSUGFRc3llNHlDN3JEWEFjelk4NzZSbmdEVHZ6OHdjZTdYM2RCdU5IQVlIQm13SHpYUnNzWDd0cW5HRC1hU05hOG85a0dFZVUzQ1NaQkRYOXZfZ3VhUmMtLU5OWGFfNmpFUHJUbi13N0lwcGxsSl9wV1hEcVRhYVJqSlpMM2NvV3QxS1duRXl2RHpSLXQxb1BtSHFZVkowTjhkNUd4Y2RrN2I3ekx3dHBkOUs1VXl4ME5tY1FlRnR1ZHB0RGNNbmxBdEtKc054VDdKR0J4U0pVR0dnZEx6VlhBaEUxUEEyTi1hcFZqRWJYZkRpaFJtTEhmYkNZS0xtZ3JnUTY1Ny1tZVhOcnhRNnFoakc2NU5yR29MeU9jYVhJVjFfVmVOWi0zYlFpZXRoZkI3U1dOWHM5ZlJ2NTBwT3pja3RHNHBnNWRscXdSeEx2VXRNbkV6eWN6bjU0aTN2YXNwYnZGRFZQR3drY0NQZFVpelNCODF2NElxcmY4eFZPM2Rkc2ZMUmVNYWN2MUtraHJKSEZtbmUwckdkdG5XREprc1RHVEZZbE5rZG1lbjNKdG85QmtGSDJSQVFWenBvOE93MzBlYmhfQldGUDJwRHczRFdXQWk5bE96dTZaYnZscHhwSXJ3RkRRd0VtMnhmRG1yMG9kcDJ3RWdWNmhUQ2RFZ0tVQWEwYkEyb1VWTlIwN19NVFVSTWhxRlAtWkFqV3l2VDRCLVNDZFRKRmZoUEZiWFUyakVZblVvNFVHN2pSWXJlSmJuV2VvM2JWeVhZejlGX3M3TUptYUdnT1lrdVpuTVVLTl9qTHdIRlRwRWo5ODBkU3pXRk1hWFFwaVlMZ0UzLTZmd3VFMjcteWZqLTBNN1ItbE1OSVJmOHZ2UlpTVWtIRkhRV2RaMDF6SzV1VFdyQTZXT2xwLU1reE5wY0tmUHRnM2VfQXp2SlJnRmc1NFNteVlWMGlYRnVyVEpQbm01TXY4WjhHTXAzRGxCZFFxVHV4VWJVY3IzZmU5NmtONFhvMDQzUTFTZE1ud1hHSFQ5NUR1QVVQY3Fwcmx0NWctZTE3R0RHWDYtX0g2SXZfQndMZl9lNHNlWFNJa2hscThXRnZXNU9WaklaWHAtYUl3UkFIc21yUWdfUG1OWWoxNFhmNWJEUVRjWUxWSzlnZjB2QkNqLWRyajZxQXFrYlZpLV9yVEtfV3JzTnNlaHItNkRuZzFfYWlsQ2ptTTNfZFg4cVZFcjdzRWpqNlAxTldxTGtSWHhfSm5iQkxwU2hSOTlYYVNFN3ZsWEZmMU5OUHJmTzE1Q3dOTz1zOTYtYyIsImlzcyI6Imh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS9wcnV0by1rdW5hbCIsImF1ZCI6InBydXRvLWt1bmFsIiwiYXV0aF90aW1lIjoxNzUxNzg3NzEyLCJ1c2VyX2lkIjoiWXJMaG1CMHR2N2dEVGpOOWc1UjlmOWdKU09rMiIsInN1YiI6IllyTGhtQjB0djdnRFRqTjlnNVI5ZjlnSlNPazIiLCJpYXQiOjE3NTE3ODc3MTIsImV4cCI6MTc1MTc5MTMxMiwiZW1haWwiOiJrdW5hbGRndGxtYXJ0QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7Imdvb2dsZS5jb20iOlsiMTA3MTE2NDM4ODczNTkyMzI4ODU5Il0sImVtYWlsIjpbImt1bmFsZGd0bG1hcnRAZ21haWwuY29tIl19LCJzaWduX2luX3Byb3ZpZGVyIjoiZ29vZ2xlLmNvbSJ9fQ.ob27noX8VLQaF5RzyQfDSWIO3Xj3S2leXnEEftzAVlYK-dE40r3x_ULxn533iEWSfssiMq66VeZGbthNaY8_tUDvIkl8hi6TjHGl5I5ORHdgJSlm2IBcQzKPO2imZQSIPg0SjwcrYOfWRKf50Fw1CN1EAPnjhubbttvqpziDpuwQZpBXlo6jnBTWDGHa4AJNMz5T-cEh5PD29buw7-FJXQrh8bATaUEQ4AaHl-fyZE-vOpr7p8SRf5gcxKQ_SqBalmbSDSe9oBI63uMRF2DWix-gAO_Ve62Eolwwi9Xb7_M0l6u7yCQ_pfrGlmBQz9uJWohQm8L4Zkskd7fiNHJtTw'; // full token

// Initialize admin if not already done
admin.initializeApp({
  credential: admin.credential.cert(require('./firebase/firebase.json')),
});

admin.auth().verifyIdToken(token)
  .then(decoded => {
    console.log('✅ Token valid:', decoded);
  })
  .catch(err => {
    console.error('❌ Token invalid:', err.message);
  });
