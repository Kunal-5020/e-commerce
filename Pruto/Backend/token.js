const admin = require('firebase-admin');

// Paste your token here
const token = 'eyJhbGciOiJSUzI1NiIsImtpZCI6Ijg3NzQ4NTAwMmYwNWJlMDI2N2VmNDU5ZjViNTEzNTMzYjVjNThjMTIiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiS3VuYWwgQmhhZGFuYSIsInBpY3R1cmUiOiJodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vYS0vQUxWLVVqWDZCQWNrc1VXbGEyZFR1NUY5TmdXelgxUjA4THJIQ2tFQmNWVnMtaGxZR0hYWm84OTNFSkhXZ24yVUQ3emxQMFE0NFhnOWo4SlJSaTZvRVRmSFA2TTBEdVpGb2M2cTNicEEzZ0VtRzNHbENNUjc5a3F2MWl1bENWeHVwc1dXYmQ5RGVVNnpGZm1YRnhlaXVMS1JxLXJpY2daOWpGSmYxdjVBNXQ2SHI3RVlTQ0hvNWdhMEtyMFUtLXpMb05NSWFSekEtd3AyR2JmYXBDd3o1NUNTTFdTME9odHBHRF9zY2Y4dC1qMVNTN2oxQm5KOGd1YXhZRlM5cWUtakhtVW9zeUFnOTFwS05mUGMzaHBmOEsyTE5fUGFHYzBFZXFLZVE4a3A1UWhPX0RKd2tNaVRveWo5N3dUS0xuMXoxUjhJb19ETWdFbV9pLXJPckxaLWM1aWZCVUNzS1VMVnlwVko2YlJRYWlpczY1cHpIb0lRb2VDZWJ4ckNJNW1XWl9waHUzSklrQjdjTElkSVd2YXlQTkk4d3pBbmVqU0t2LTBVT1ZqN2wzR0NsTjh6akRQcnRHbk8xWnBlOU9QVExDU2pSRWhDeWJlSnhXSktVejR6RTlfZy1DUThCdnFjbndIQ3RUUzJ3eExLX1laWmVMYnpiUHdYZ2xkZm5kZ1h0bFR1SmFZMnB4SHRYcWcxaF9LN203LVlaN1Y1eGVET2U0ZXNfMlVxdlBKSjQtWTExbE5WOGt6XzBoX3V0U0VqZXZWQkNtQ0ZOVGdQZDREcmt3VEV4djVPazloWmVaTzZVSFdla1JuMi1sTVR3T0JsaVdGTWJpcUJpeTQtQ1BfOEY3MkZPdzVNOWwyRVdWLUFUWkhVWE11bWhyQnJyTWNoUkZOTjAtY2tSV3V0MVRxaWc5c1VTNVVHcEJxUE1BelIwLVJ4UmZRZ3lHa2VSWTd5OVJVOTUxdVVpMVlwT3l3QXdYNU80LVBEREhEbXBzczVHS1BVcV9QS2NmVzF3OTdRSHdaWUJ2dVFxZEloS2pJZG40RkZtaTlkclZkVm9YcXBycFVyWkxwc2JKamZxSFpPalBVRW9ScThVSGQwSE5nOFJpdmFEUkUyRVBSZTNvM0hNTWtCOFQ2UWlNYTF6VVR1cUx4SEVkVzdRRTNQMWYzWl91V2g5dTZkd2Y2QXVoWFhsUlRRcDVkQW9ial9xeHZtZ0lGeUZWaGp1OEJhaE01aUd2dU4yM2lEZXRwV254eTRuMzRCc0t4cmswOHJnYjQ4RDNuS2E4TFphVkE2MnZOWllwNFhzenJIUlRsdkxZNDlIcC1TMlE9czk2LWMiLCJpc3MiOiJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vZS1jb21tZXJjZS0zMDcwZSIsImF1ZCI6ImUtY29tbWVyY2UtMzA3MGUiLCJhdXRoX3RpbWUiOjE3NTE2MTMyMzIsInVzZXJfaWQiOiJIcFR0N1FqSTAxZGtqWmdjV0loSUFESGx1TWgyIiwic3ViIjoiSHBUdDdRakkwMWRralpnY1dJaElBREhsdU1oMiIsImlhdCI6MTc1MTYxMzIzMiwiZXhwIjoxNzUxNjE2ODMyLCJlbWFpbCI6Imt1bmFsYmhhZGFuYTE1QGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJmaXJlYmFzZSI6eyJpZGVudGl0aWVzIjp7Imdvb2dsZS5jb20iOlsiMTA5MTU5MTM5NDUzMTI2NDk3NDc4Il0sImVtYWlsIjpbImt1bmFsYmhhZGFuYTE1QGdtYWlsLmNvbSJdfSwic2lnbl9pbl9wcm92aWRlciI6Imdvb2dsZS5jb20ifX0.1tX2hitNcya7e6GJm61XSwXS4zpp2kxg789bA9xHUt1kyWxmpCr0RqSjIwfXIVWb8Wi6Zq9RLQJLUnPWxrlRLUCXKn1ErPDI1Rz_CEruoYlap0S9ulOOa5kiaHE-gOOvegvz2RWlu38rzzA6V-c4ScPnGeqcICR52tCvQAapuxoBbRQpD2kKhQG_lrpxdplrHFfwnYpjhqowyC9J6I-6YRQ--qw2gUwrhPWJlDvQSDXMw0PyDxElLLcjR61XOpmuOsI9kttJi_Za-2KbRDbhN3Ilp_UqJINx4pxD2CGyThfSOlYXFIOGYS32qQRyvdAmuKfNqWvXa1ZF18YLcaObMg'; // full token

// Initialize admin if not already done
admin.initializeApp({
  credential: admin.credential.cert(require('./firebase/firebase.json')),
});

admin.auth().verifyIdToken(token)
  .then(decoded => {
    console.log('✅ Token valid:', decoded);
  })
  .catch(err => {
    console.error('❌ Token invalid:', err.message);
  });
